# –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.txt`. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞, –ø–æ–¥—Å—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø–ª–∞–≥–∏–∞—Ç, –≤–∫–ª—é—á–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ–±–ª–∞–∫–∞ —Å–ª–æ–≤.

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

## üß© –°–µ—Ä–≤–∏—Å—ã

1. **API Gateway**

   * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã.
   * –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (`store-service`, `analysis-service`).
   * –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

2. **Store Service**

   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `.txt`-—Ñ–∞–π–ª—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `file_id`.
   * –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ö—ç—à —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

     * –ï—Å–ª–∏ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º —Ö—ç—à–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ, –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.
     * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `file_id` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞.
   * –§–∞–π–ª—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö (–≤ –∏–¥–µ–∞–ª–µ –≤ —Å–ª—É—á–∞–µ –∫–æ–ª–ª–∏–∑–∏–∏ —Å–≤–µ—Ä—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –∏—Ö –Ω–µ—Ç).

3. **Analysis Service**

   * –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∞–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–∞:

     * –ü–æ–¥—Å—á—ë—Ç –∞–±–∑–∞—Ü–µ–≤, —Å–ª–æ–≤ –∏ —Å–∏–º–≤–æ–ª–æ–≤.
     * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–∞–∫–∞ —Å–ª–æ–≤.
   * –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:

     * –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ç–µ–∫—Å—Ç (–Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤).
     * –í—ã—á–∏—Å–ª—è–µ—Ç —Ö—ç—à –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
     * –ï—Å–ª–∏ —Ç–∞–∫–æ–π —Ö—ç—à —É–∂–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è, —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ—É–Ω–∏–∫–∞–ª—å–Ω—ã–º.
   * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ location –æ–±–ª–∞–∫–∞ —Å–ª–æ–≤.

---

# üöÄ –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å .env.example -> .env –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. 

## –°–±–æ—Ä–∫–∞

```bash
docker compose build
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Store Service
docker compose run --rm store-service poetry run pytest -v

# Analysis Service
docker compose run --rm analysis-service poetry run pytest -v
```

---

# üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ API Gateway –∏ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ HTTP. –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å:

* Gateway ‚Äî –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞
* Store ‚Äî —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
* Analysis ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –∏ –∞–Ω—Ç–∏–ø–ª–∞–≥–∏–∞—Ç–∞

---

# üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

Swagger: `http://localhost`

---

# üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–•–∑ –∫–∞–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ(—Ç–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ coverage –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ 85% –∫–æ–≥–¥–∞ –±—ã–ª–æ –≤—Å–µ–≥–æ 2 —Ç–µ—Å—Ç–∞) :) –Ω–æ –Ω–∞–¥–µ—é—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ

---

# üìé –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è 

* Docker / Docker Compose
